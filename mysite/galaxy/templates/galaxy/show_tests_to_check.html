{% extends 'galaxy/base.html' %}
{% load galaxy_tags %}

{% block custom_styles %}
<style>

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  text-align: center;
  padding: 8px;
}

th, td {
  background-color: #000000c9;
}

h1 {
    text-align: center;
}

div.parent {
  display: flex;
  justify-content: center;
}

div.table {
  width: 50%;
}

.pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
}

.pagination a {
    text-decoration: none;
}

.pagination-number {
    padding: 10px;
    color: #fff;
    background-color: #000000c9;
}

.pagination-number:hover,
.pagination-current {
    color: #c9b4b4;
}

.pagination-action {
    margin: 0 0.1em;
    display: inline-block;
    padding: 0.5em 0.5em;
    color: #B9B9B9;
    font-size: 1.3em;
}

.pagination-action:hover,
.pagination-previous,
.pagination-next {
    color: #c9b4b4;
}


</style>

{% endblock %}

{% block content %}
<h1>Tests to check</h1>

<div class="parent">
  <div class="table">
      <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Student</th>
          <th scope="col">Test</th>
          <th scope="col">Is checked</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
      {% for test_to_check in tests_to_check %}
        <tr>
            {% if page_obj.number %}
                {% with offset=page_obj.number|add:'-1'|multiply:15 %}
                <th scope="row">{{ forloop.counter|add:offset }}</th>
                {% endwith %}
            {% else %}
                <th scope="row">{{ forloop.counter }}</th>
            {% endif %}
            <td> {{test_to_check.student_id}}</td>
            <td>{{test_to_check.test_id}}</td>
            <td>{{test_to_check.is_checked}}</td>
            <td><a href="{% url 'checking_test' test_to_check.id %}">Open</a></td>
        </tr>

      {% endfor %}
      </tbody>
      </table>
  </div>
</div>

{% if page_obj.has_other_pages %}
<div class="pagination">
    {% if page_obj.has_previous %}
    <a class="pagination-number" href="?page={{ page_obj.previous_page_number }}"><</a>
    {% else %}
    <span class="pagination-number pagination-current"><</span>
    {% endif %}
    {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
            <span class="pagination-number pagination-current">{{ num }}</span>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
            <a class="pagination-number" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
    <a class="pagination-number" href="?page={{ page_obj.next_page_number }}">></a>
    {% else %}
    <span class="pagination-number pagination-current">></span>
    {% endif %}
</div>
{% endif %}

{% endblock %}